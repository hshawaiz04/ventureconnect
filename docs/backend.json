{
  "entities": {
    "user": {
      "title": "User",
      "description": "Represents a user of the platform.",
      "type": "object",
      "properties": {
        "role": {
          "type": "string",
          "description": "The role of the user.",
          "enum": ["business owner", "investor", "banker", "advisor"]
        },
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        },
        "createdAt": {
          "type": "number",
          "description": "Timestamp of when the user account was created."
        }
      },
      "required": ["role", "name", "email", "createdAt"]
    },
    "business": {
      "title": "Business",
      "description": "Represents a business profile created by a business owner.",
      "type": "object",
      "properties": {
        "ownerUid": {
          "type": "string",
          "description": "The UID of the user who owns this business profile."
        },
        "name": {
          "type": "string",
          "description": "The name of the business."
        },
        "industry": {
          "type": "string",
          "description": "The industry the business operates in."
        },
        "stage": {
          "type": "string",
          "description": "The current stage of the business (e.g., MVP, Seed, Growth)."
        },
        "pitch": {
          "type": "string",
          "description": "A short pitch or summary of the business."
        },
        "targetRaise": {
          "type": "number",
          "description": "The funding amount the business is seeking."
        },
        "raisedAmount": {
          "type": "number",
          "description": "The amount of funding already raised."
        },
        "profileComplete": {
          "type": "number",
          "description": "A percentage representing how complete the profile is."
        },
        "createdAt": {
          "type": "number",
          "description": "Timestamp of when the business profile was created."
        },
        "updatedAt": {
          "type": "number",
          "description": "Timestamp of when the business profile was last updated."
        }
      },
      "required": ["ownerUid", "name", "industry", "stage", "pitch", "createdAt", "updatedAt"]
    },
    "proposal": {
      "title": "Proposal",
      "description": "A funding or business proposal created by a business owner.",
      "type": "object",
      "properties": {
        "businessId": {
          "type": "string",
          "description": "The ID of the business this proposal belongs to."
        },
        "title": {
          "type": "string",
          "description": "The title of the proposal."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the proposal."
        },
        "status": {
          "type": "string",
          "description": "The current status of the proposal.",
          "enum": ["Draft", "Published", "Under Review", "Funded", "Archived"]
        },
        "createdAt": {
          "type": "number",
          "description": "Timestamp of when the proposal was created."
        }
      },
      "required": ["businessId", "title", "description", "status", "createdAt"]
    },
    "view": {
      "title": "View/Activity",
      "description": "Represents an interaction from an investor on a business profile.",
      "type": "object",
      "properties": {
        "businessId": {
          "type": "string",
          "description": "The ID of the business being viewed."
        },
        "investorId": {
          "type": "string",
          "description": "The UID of the investor performing the action."
        },
        "actionType": {
          "type": "string",
          "description": "The type of action performed.",
          "enum": ["view", "bookmark", "contact"]
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp of the activity."
        }
      },
      "required": ["businessId", "investorId", "actionType", "timestamp"]
    },
    "message": {
      "title": "Message",
      "description": "A single message within a conversation thread.",
      "type": "object",
      "properties": {
        "fromUid": {
          "type": "string",
          "description": "The UID of the message sender."
        },
        "toUid": {
          "type": "string",
          "description": "The UID of the message recipient."
        },
        "text": {
          "type": "string",
          "description": "The content of the message."
        },
        "read": {
          "type": "boolean",
          "description": "Whether the message has been read by the recipient."
        },
        "createdAt": {
          "type": "number",
          "description": "Timestamp of when the message was sent."
        }
      },
      "required": ["fromUid", "toUid", "text", "createdAt"]
    },
    "log": {
      "title": "Log",
      "description": "An audit log entry for a significant action on the platform.",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The UID of the user who performed the action."
        },
        "action": {
          "type": "string",
          "description": "A string identifying the action (e.g., 'edit_profile')."
        },
        "targetType": {
          "type": "string",
          "description": "The type of entity the action was performed on (e.g., 'business', 'proposal')."
        },
        "targetId": {
          "type": "string",
          "description": "The ID of the entity that was targeted."
        },
        "metadata": {
          "type": "object",
          "description": "Any additional data relevant to the log entry."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp of when the log was created."
        }
      },
      "required": ["uid", "action", "targetType", "targetId", "timestamp"]
    }
  },
  "auth": {
    "providers": ["email", "google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/user" },
      "description": "Stores individual user profiles."
    },
    "/businesses/{businessId}": {
      "schema": { "$ref": "#/entities/business" },
      "description": "Stores business profiles created by users."
    },
    "/proposals/{proposalId}": {
      "schema": { "$ref": "#/entities/proposal" },
      "description": "Stores proposals linked to businesses."
    },
    "/views/{viewId}": {
      "schema": { "$ref": "#/entities/view" },
      "description": "Logs investor interactions with business profiles."
    },
    "/messages/{threadId}/messages/{messageId}": {
      "schema": { "$ref": "#/entities/message" },
      "description": "Stores individual messages within a conversation thread."
    },
    "/logs/{logId}": {
      "schema": { "$ref": "#/entities/log" },
      "description": "Stores audit logs for important platform actions."
    }
  }
}
